<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>products</title>
</head>
<body>
<div style="float:left"><form th:action="@{/logout}" method="post"><input type="submit" value="Sign Out" /> </form></div>


    <h1>LISTA POSILKOW TWOICH POSIŁKÓW DZIŚ</h1>

        <form th:action="@{/products}" ><input type="submit" value="ADD PRODUCT FROM LIST" /> </form>
        <form th:action="@{/new_meal}" ><input type="submit" value="ADD YOUR OWN MEAL" /> </form>
        <form th:action="@{/allMeals}" ><input type="submit" value="SHOW YOUR MEALS HISTORY" /> </form>
        <form th:action="@{/show_user}" ><input type="submit" value="SHOW USER DETAILS" /> </form>

</br>
    <table border="1" cellpadding="10">
        <thead>

        <th>Name</th>
        <th>PROTEIN</th>
        <th>CARBO</th>
        <th>FAT</th>
        <th>KCAL</th>
        <th>PORTIONS</th>
        <th>CHANGE PORTIONS</th>



        </thead>
        <tbody>
        <tr th:each="meal:${listMeals}">
            <td th:text="${meal.getName()}">Name</td>
            <td th:text="${meal.getProtein()}">PROTEIN</td>
            <td th:text="${meal.getCarbo()}">CARBO</td>
            <td th:text="${meal.getFat()}">FAT</td>
            <td th:text="${meal.getKcal()}">KCAL</td>
            <td th:text="${meal.getPortions()}">PORTION</td>
            <td><form action=# th:action="@{'/meals/updatePortion/'+${meal.getId()}}">
                <fieldset>
                    <input type="text" th:field="*{newPortion}"/>
                    <input type="submit" value="ZWIEKSZ PORCJE DWUKROTNIE!"/>
                </fieldset>
            </form>

            <td>

                <a th:href="@{'/meals/delete/' + ${meal.getId()}}">Delete</a>
            </td>
        </tr>
        </tbody>
    </table>

    <p >SUMA DZIENNA KCAL:<span th:text="${sumKcal}"></span> </p>
</div>

</body>
</html>